<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 1 Cheatsheet - SQL Fundamentals</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style.css">
    <style>
        .cheatsheet-card {
            background: #ffffff;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .cheatsheet-card h5 {
            color: #0b132b;
            border-bottom: 2px solid #4dd0e1;
            padding-bottom: 0.5rem;
            margin-bottom: 1rem;
        }
        .section-title {
            color: #0b132b;
            font-size: 1.5rem;
            margin: 2rem 0 1rem;
            border-left: 4px solid #4dd0e1;
            padding-left: 1rem;
        }
        .keyword { color: #ff7b72; }
        .function { color: #d2a8ff; }
        .string { color: #a5d6ff; }
        .comment { color: #8b949e; }
        .tip {
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .warning {
            background: #fff3e0;
            border-left: 4px solid #ff9800;
            padding: 0.75rem 1rem;
            margin: 0.5rem 0;
            border-radius: 0 5px 5px 0;
        }
        .quick-ref {
            background: #e3f2fd;
            border: 1px solid #1e88e5;
            border-radius: 8px;
            padding: 1rem;
        }
        .quick-ref h5 {
            color: #1e88e5;
            border-bottom: none;
        }
    </style>
</head>
<body>
    <a href="../index_en.html" class="back-button">‚Üê Back to Index</a>
    <div class="language-switcher">
        <a href="cheatsheet.html" class="active">EN</a>
        <a href="cheatsheet_tr.html">TR</a>
    </div>
    <div id="europeanunion-turkey">
        <img src="../static/eu.png" alt="">
    </div>
    <div id="sanayiteknolojibakan">
        <img src="../static/sanayitek.png" alt="">
    </div>
    <div id="rekabet">
        <img src="../static/rekabet.png" alt="">
    </div>
    <div id="tisk">
        <img src="../static/tisk.png" alt="">
    </div>
    <div id="undp">
        <img src="../static/undp.png" alt="">
    </div>

    <div class="content-container">
        <div class="container">
            <section>
                <h1>Part 1: SQL Fundamentals</h1>
                <p class="text-muted">Databases, SELECT, JOINs & Advanced Queries</p>

        <!-- Quick Reference -->
        <div class="quick-ref mb-4">
            <h5 class="text-center mb-3">Quick Reference - SQL Query Order</h5>
            <pre><code><span class="keyword">SELECT</span> columns      <span class="comment">-- 5. Select columns</span>
<span class="keyword">FROM</span> table           <span class="comment">-- 1. Choose table</span>
<span class="keyword">JOIN</span> table2 <span class="keyword">ON</span> ...  <span class="comment">-- 2. Join tables</span>
<span class="keyword">WHERE</span> condition      <span class="comment">-- 3. Filter rows</span>
<span class="keyword">GROUP BY</span> column      <span class="comment">-- 4. Group rows</span>
<span class="keyword">HAVING</span> condition     <span class="comment">-- 6. Filter groups</span>
<span class="keyword">ORDER BY</span> column      <span class="comment">-- 7. Sort results</span>
<span class="keyword">LIMIT</span> n              <span class="comment">-- 8. Limit rows</span></code></pre>
        </div>

        <!-- Database Fundamentals -->
        <h3 class="section-title">Database Fundamentals</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Key Concepts</h5>
                    <ul>
                        <li><strong>Database:</strong> Organized collection of structured data</li>
                        <li><strong>Table:</strong> Collection of related data in rows & columns</li>
                        <li><strong>Row (Record):</strong> Single entry in a table</li>
                        <li><strong>Column (Field):</strong> Attribute of data</li>
                        <li><strong>Schema:</strong> Blueprint of database structure</li>
                    </ul>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Keys & Constraints</h5>
                    <ul>
                        <li><strong>PRIMARY KEY:</strong> Unique identifier for each row</li>
                        <li><strong>FOREIGN KEY:</strong> Links to another table's primary key</li>
                        <li><strong>UNIQUE:</strong> No duplicate values allowed</li>
                        <li><strong>NOT NULL:</strong> Value must be provided</li>
                        <li><strong>CHECK:</strong> Value must meet condition</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SELECT Basics -->
        <h3 class="section-title">SELECT Statement</h3>

        <div class="cheatsheet-card p-3">
            <h5>Basic SELECT Syntax</h5>
            <div class="row">
                <div class="col-md-6">
                    <pre><code><span class="comment">-- Select all columns</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees;

<span class="comment">-- Select specific columns</span>
<span class="keyword">SELECT</span> first_name, last_name, salary
<span class="keyword">FROM</span> employees;

<span class="comment">-- Column alias</span>
<span class="keyword">SELECT</span> first_name <span class="keyword">AS</span> <span class="string">"First Name"</span>,
       salary * 12 <span class="keyword">AS</span> annual_salary
<span class="keyword">FROM</span> employees;</code></pre>
                </div>
                <div class="col-md-6">
                    <pre><code><span class="comment">-- Remove duplicates</span>
<span class="keyword">SELECT DISTINCT</span> department_id
<span class="keyword">FROM</span> employees;

<span class="comment">-- Limit results</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">LIMIT</span> 10;

<span class="comment">-- Skip rows (pagination)</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">LIMIT</span> 10 <span class="keyword">OFFSET</span> 20;</code></pre>
                </div>
            </div>
        </div>

        <!-- WHERE Clause -->
        <h3 class="section-title">Filtering with WHERE</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Comparison Operators</h5>
                    <pre><code><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees <span class="keyword">WHERE</span>
  salary = 50000          <span class="comment">-- Equal</span>
  salary != 50000         <span class="comment">-- Not equal</span>
  salary > 50000          <span class="comment">-- Greater than</span>
  salary >= 50000         <span class="comment">-- Greater or equal</span>
  salary < 50000          <span class="comment">-- Less than</span>
  salary <= 50000         <span class="comment">-- Less or equal</span>
  salary <span class="keyword">BETWEEN</span> 40000 <span class="keyword">AND</span> 60000
  department_id <span class="keyword">IN</span> (1, 2, 3)
  first_name <span class="keyword">LIKE</span> <span class="string">'J%'</span>    <span class="comment">-- Starts with J</span>
  email <span class="keyword">IS NULL</span>           <span class="comment">-- Check NULL</span>
  email <span class="keyword">IS NOT NULL</span></code></pre>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Logical Operators</h5>
                    <pre><code><span class="comment">-- AND: Both conditions must be true</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">WHERE</span> salary > 50000
  <span class="keyword">AND</span> department_id = 5;

<span class="comment">-- OR: At least one condition true</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">WHERE</span> department_id = 1
  <span class="keyword">OR</span> department_id = 2;

<span class="comment">-- NOT: Negate condition</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">WHERE NOT</span> department_id = 5;

<span class="comment">-- Combined with parentheses</span>
<span class="keyword">WHERE</span> (dept = 1 <span class="keyword">OR</span> dept = 2)
  <span class="keyword">AND</span> salary > 50000</code></pre>
                </div>
            </div>
        </div>

        <div class="cheatsheet-card p-3">
            <h5>LIKE Pattern Matching</h5>
            <table>
                <thead><tr><th>Pattern</th><th>Meaning</th><th>Example</th></tr></thead>
                <tbody>
                    <tr><td><code>%</code></td><td>Any sequence of characters</td><td><code>'J%'</code> matches John, Jane, James</td></tr>
                    <tr><td><code>_</code></td><td>Any single character</td><td><code>'_ohn'</code> matches John, but not Johan</td></tr>
                    <tr><td><code>%text%</code></td><td>Contains 'text'</td><td><code>'%son%'</code> matches Johnson, Mason</td></tr>
                </tbody>
            </table>
        </div>

        <!-- JOIN Operations -->
        <h3 class="section-title">JOIN Operations</h3>

        <div class="cheatsheet-card p-3">
            <h5>JOIN Types</h5>
            <table>
                <thead><tr><th>JOIN Type</th><th>Description</th><th>Returns</th></tr></thead>
                <tbody>
                    <tr><td><code>INNER JOIN</code></td><td>Match in both tables</td><td>Only matching rows</td></tr>
                    <tr><td><code>LEFT JOIN</code></td><td>All from left + matches</td><td>All left rows, NULL if no match</td></tr>
                    <tr><td><code>RIGHT JOIN</code></td><td>All from right + matches</td><td>All right rows, NULL if no match</td></tr>
                    <tr><td><code>FULL OUTER JOIN</code></td><td>All from both tables</td><td>All rows, NULL where no match</td></tr>
                    <tr><td><code>CROSS JOIN</code></td><td>Cartesian product</td><td>Every combination</td></tr>
                </tbody>
            </table>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>INNER JOIN</h5>
                    <pre><code><span class="comment">-- Returns only matching rows</span>
<span class="keyword">SELECT</span> e.name, d.department_name
<span class="keyword">FROM</span> employees e
<span class="keyword">INNER JOIN</span> departments d
  <span class="keyword">ON</span> e.department_id = d.id;</code></pre>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>LEFT JOIN</h5>
                    <pre><code><span class="comment">-- All employees, even without dept</span>
<span class="keyword">SELECT</span> e.name, d.department_name
<span class="keyword">FROM</span> employees e
<span class="keyword">LEFT JOIN</span> departments d
  <span class="keyword">ON</span> e.department_id = d.id;</code></pre>
                </div>
            </div>
        </div>

        <div class="cheatsheet-card p-3">
            <h5>Multiple JOINs</h5>
            <pre><code><span class="keyword">SELECT</span>
    e.first_name,
    d.department_name,
    l.city
<span class="keyword">FROM</span> employees e
<span class="keyword">INNER JOIN</span> departments d <span class="keyword">ON</span> e.department_id = d.department_id
<span class="keyword">INNER JOIN</span> locations l <span class="keyword">ON</span> d.location_id = l.location_id
<span class="keyword">WHERE</span> l.country_id = <span class="string">'US'</span>;</code></pre>
        </div>

        <!-- Aggregation -->
        <h3 class="section-title">Aggregation Functions</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Common Aggregate Functions</h5>
                    <pre><code><span class="function">COUNT</span>(*)        <span class="comment">-- Count all rows</span>
<span class="function">COUNT</span>(column)   <span class="comment">-- Count non-NULL values</span>
<span class="function">SUM</span>(column)     <span class="comment">-- Sum of values</span>
<span class="function">AVG</span>(column)     <span class="comment">-- Average value</span>
<span class="function">MIN</span>(column)     <span class="comment">-- Minimum value</span>
<span class="function">MAX</span>(column)     <span class="comment">-- Maximum value</span></code></pre>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>GROUP BY & HAVING</h5>
                    <pre><code><span class="keyword">SELECT</span> department_id,
       <span class="function">COUNT</span>(*) <span class="keyword">AS</span> emp_count,
       <span class="function">AVG</span>(salary) <span class="keyword">AS</span> avg_salary
<span class="keyword">FROM</span> employees
<span class="keyword">GROUP BY</span> department_id
<span class="keyword">HAVING</span> <span class="function">COUNT</span>(*) > 5
<span class="keyword">ORDER BY</span> avg_salary <span class="keyword">DESC</span>;</code></pre>
                </div>
            </div>
        </div>

        <!-- Subqueries -->
        <h3 class="section-title">Subqueries</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>Scalar Subquery (Single Value)</h5>
                    <pre><code><span class="comment">-- Employees earning above average</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">WHERE</span> salary > (
    <span class="keyword">SELECT</span> <span class="function">AVG</span>(salary)
    <span class="keyword">FROM</span> employees
);</code></pre>
                </div>
            </div>
            <div class="col-md-6">
                <div class="cheatsheet-card p-3">
                    <h5>List Subquery (Multiple Values)</h5>
                    <pre><code><span class="comment">-- Employees in Sales or Marketing</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">WHERE</span> department_id <span class="keyword">IN</span> (
    <span class="keyword">SELECT</span> id <span class="keyword">FROM</span> departments
    <span class="keyword">WHERE</span> name <span class="keyword">IN</span> (<span class="string">'Sales'</span>, <span class="string">'Marketing'</span>)
);</code></pre>
                </div>
            </div>
        </div>

        <div class="cheatsheet-card p-3">
            <h5>EXISTS Subquery</h5>
            <pre><code><span class="comment">-- Departments that have employees</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> departments d
<span class="keyword">WHERE EXISTS</span> (
    <span class="keyword">SELECT</span> 1 <span class="keyword">FROM</span> employees e
    <span class="keyword">WHERE</span> e.department_id = d.id
);</code></pre>
        </div>

        <!-- CTEs -->
        <h3 class="section-title">Common Table Expressions (CTEs)</h3>

        <div class="cheatsheet-card p-3">
            <h5>WITH Clause</h5>
            <pre><code><span class="keyword">WITH</span> dept_stats <span class="keyword">AS</span> (
    <span class="keyword">SELECT</span> department_id,
           <span class="function">AVG</span>(salary) <span class="keyword">AS</span> avg_salary,
           <span class="function">COUNT</span>(*) <span class="keyword">AS</span> emp_count
    <span class="keyword">FROM</span> employees
    <span class="keyword">GROUP BY</span> department_id
)
<span class="keyword">SELECT</span> d.name, ds.avg_salary, ds.emp_count
<span class="keyword">FROM</span> departments d
<span class="keyword">JOIN</span> dept_stats ds <span class="keyword">ON</span> d.id = ds.department_id
<span class="keyword">WHERE</span> ds.avg_salary > 50000;</code></pre>
            <div class="tip">CTEs improve readability and can be referenced multiple times in the main query.</div>
        </div>

        <!-- Window Functions -->
        <h3 class="section-title">Window Functions</h3>

        <div class="cheatsheet-card p-3">
            <h5>Window Function Syntax</h5>
            <pre><code><span class="keyword">SELECT</span>
    employee_name,
    department_id,
    salary,
    <span class="function">ROW_NUMBER</span>() <span class="keyword">OVER</span> (<span class="keyword">ORDER BY</span> salary <span class="keyword">DESC</span>) <span class="keyword">AS</span> rank,
    <span class="function">RANK</span>() <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> department_id <span class="keyword">ORDER BY</span> salary <span class="keyword">DESC</span>) <span class="keyword">AS</span> dept_rank,
    <span class="function">SUM</span>(salary) <span class="keyword">OVER</span> (<span class="keyword">PARTITION BY</span> department_id) <span class="keyword">AS</span> dept_total,
    <span class="function">AVG</span>(salary) <span class="keyword">OVER</span> () <span class="keyword">AS</span> company_avg
<span class="keyword">FROM</span> employees;</code></pre>
        </div>

        <div class="cheatsheet-card p-3">
            <h5>Common Window Functions</h5>
            <table>
                <thead><tr><th>Function</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>ROW_NUMBER()</code></td><td>Unique sequential number for each row</td></tr>
                    <tr><td><code>RANK()</code></td><td>Rank with gaps for ties</td></tr>
                    <tr><td><code>DENSE_RANK()</code></td><td>Rank without gaps for ties</td></tr>
                    <tr><td><code>LAG(col, n)</code></td><td>Value from n rows before</td></tr>
                    <tr><td><code>LEAD(col, n)</code></td><td>Value from n rows after</td></tr>
                    <tr><td><code>FIRST_VALUE(col)</code></td><td>First value in window</td></tr>
                    <tr><td><code>LAST_VALUE(col)</code></td><td>Last value in window</td></tr>
                </tbody>
            </table>
        </div>

        <!-- ORDER BY -->
        <h3 class="section-title">Sorting Results</h3>

        <div class="cheatsheet-card p-3">
            <h5>ORDER BY Examples</h5>
            <pre><code><span class="comment">-- Ascending (default)</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees <span class="keyword">ORDER BY</span> last_name;

<span class="comment">-- Descending</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees <span class="keyword">ORDER BY</span> salary <span class="keyword">DESC</span>;

<span class="comment">-- Multiple columns</span>
<span class="keyword">SELECT</span> * <span class="keyword">FROM</span> employees
<span class="keyword">ORDER BY</span> department_id <span class="keyword">ASC</span>, salary <span class="keyword">DESC</span>;

<span class="comment">-- NULLs handling</span>
<span class="keyword">ORDER BY</span> commission <span class="keyword">NULLS LAST</span>;
<span class="keyword">ORDER BY</span> commission <span class="keyword">NULLS FIRST</span>;</code></pre>
        </div>

        <!-- Tips -->
        <h3 class="section-title">Best Practices</h3>

        <div class="row">
            <div class="col-md-6">
                <div class="tip">
                    <strong>Use meaningful aliases</strong> - Makes complex queries readable
                </div>
                <div class="tip">
                    <strong>Specify columns</strong> - Avoid SELECT * in production
                </div>
                <div class="tip">
                    <strong>Use table aliases</strong> - Required for self-joins, good habit overall
                </div>
            </div>
            <div class="col-md-6">
                <div class="warning">
                    <strong>NULL is not equal to NULL</strong> - Use IS NULL, not = NULL
                </div>
                <div class="warning">
                    <strong>GROUP BY pitfall</strong> - All non-aggregated columns must be in GROUP BY
                </div>
                <div class="warning">
                    <strong>JOIN without ON</strong> - Creates Cartesian product (usually wrong)
                </div>
            </div>
        </div>

            </section>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>
</body>
</html>
